<!DOCTYPE html>
<html>

<head>
	<meta charset=utf-8 />
	<title>Owensboro, Kentucky</title>
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

	<link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" />
	<!-- update to v.7 normalize css -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css" />
	<!-- update to v1.2 leaflet css -->
	<link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lora" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Shrikhand" rel="stylesheet">
	<!-- new fancy font -->

	<style>
		body {
			margin: 0;
			padding: 0;
			background: #f5f5f5;
			font-family: "Noto Sans", sans-serif;
			color: #3d3d3d;
			font-size: 100%/* added to match lesson */
		}

		section {
			width: 960px;
			margin: 20px auto;
		}

		h1 {
			width: 960px;
			margin: 20px auto;
			/* no margin in lesson, left as is */
			font-family: 'Shrikhand', cursive;
			/*new font */
			letter-spacing: .04em;
		}

		h2 {
			font-size: 1.5em;
			/* added to match lesson */
			font-family: 'Shrikhand', cursive;
			/* new font */
			letter-spacing: .04em;
		}

		p {
			font-size: 1em;
			line-height: 1.5em;
		}

		a {
			color: #4fab24;
			/* new color for links; greenish */
			font-weight: bold;
			text-decoration: none;
		}

		a:hover {
			text-decoration: underline;
		}

		ul {
			padding-left: 20px;
		}

		li {
			margin: 10px 0
		}

		#map {
			width: 960px;
			height: 540px;
			margin: 10px auto;
			border: 2px solid #d3d3d3;
		}
	</style>
</head>

<body>

	<h1>Owensboro, Kentucky - Bar-B-Q Capital of the World! </h1>

	<div id='map'></div>

	<section>
		<h2>about this map</h2>
		<p>Wikipedia - <a target="_blank" href="https://en.wikipedia.org/wiki/Owensboro%2C_Kentucky">Owensboro, KY</a></p>
		<!-- open in new window -->

		<p>This is a map of Owensboro KY, my hometown. Known for their barbecue, particularly mutton (an acquired taste). </p>
		<p>Owensboro was the site of the last public hanging in the USA. Held on August 14, 1936, Rainey Bethea, a 26-year-old African-American man was hanged for the rape & murder of 70-year-old Lischa Edwards. The carnival atmosphere turned ugly when the crowd
			started to tear at the clothes and body before Bethea was dead. Due to the embarrassing spectacle, the General Assembly abolished public executions.</p>

		<ul>
			<li>See my projects on GitHub: <a target="_blank" href="https://github.com/jamesc10">James C.</a></li>
			<li>Visit my UAV website <a target="_blank" href="http://www.shockUAVe.com">ShockUAVe.com</a>.</li>
		</ul>
	</section>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.js"></script>
	<!-- updated jquery & leaflet script js -->

	<script>
		// map options
		var options = {
			center: [37.757778, -87.118333], // lat/lon values
			zoom: 13
		}

		// create a Leaflet map in our division container with id of 'map'
		var map = L.map('map', options);

		// request some basemap tiles and add to the map
		// var tiles = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/light_all/{z}/{x}/{y}.png', {
		// 	attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
		// 	subdomains: 'abcd',
		// 	maxZoom: 19
		// }).addTo(map);

		//regular style map - used in small screen branch for Challenge
		var Esri_WorldStreetMap = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}', {
			attribution: 'Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012'
		}).addTo(map);

		// more interesting map, but needs labels
		// var Stamen_Watercolor = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}', {
		// 	attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
		// 	subdomains: 'abcd',
		// 	minZoom: 1,
		// 	maxZoom: 16,
		// 	ext: 'png'
		// }).addTo(map);


		// write a custom message for the Leaflet tooltip
		var message = 'The Big O!';

		// add a marker to the center of the map and open the tooltip
		L.marker(map.getCenter())
			.bindTooltip(message)
			.addTo(map)
			.openTooltip();

		// Location data, apologies for using different variable names
		var locationName = ["Owensboro Convention Center", "Moonlight BBQ Inn", "Old Hickory"];

		var locationCoords = [
			[37.776300, -87.11682],
			[37.756786, -87.148987],
			[37.751331, -87.113140]
		];
		var locationAddr = ["501 West 2nd Street", "2840 West Parrish Ave.", "338 Washington Ave."];

		var locationPic = ["<img src = images/owensboro_riverfront.jpg width = '200px' height = '150px'>", "<img src = images/muttoninfo.jpg width ='200px' height ='150px'>", "<img src = images/old-hickory-pit-bar-b.jpg width ='200px' height ='150px'>"];

		var isItBbq = [false, true, true]; // is this a BBQ place?

		var typeLocation = ["Lodging", "BBQ", "BBQ"];

		var typeIconURL = [
			"maki_svg/icons/lodging-15.svg",
			"maki_svg/icons/bbq-15.svg",
			"maki_svg/icons/star-15.svg"
		];

		// if a BBQ place, flag it!
		for (var i = 0; i < locationName.length; i++) {
			if (isItBbq[i] == true) {
				var yesItIsBbq = "<b>Get your BBQ Here</b> <br> ";
			} else {
				var yesItIsBbq = ""; //if not, say nothing
			}
			// build Popup
			var locationPopup = "<h2>" + locationName[i] + "</h2>" +
				"Address: " + locationAddr[i] +
				"<br>" + locationPic[i] +
				"<br>" + yesItIsBbq;

			var iconLocation = createIcon(typeLocation[i]);

			// tooltip & marker

			L.marker(locationCoords[i], {
					icon: iconLocation
				})
				.addTo(map) // add it to the map
				.bindPopup(locationPopup); // bind the data to the popup
		};

		// Function to determine type of location and return appropriate Leaflet icon object

		function createIcon(typeOfLocation) {
			var iconURL = "", // declare the iconURL
				iconSize = 30; // create default size

			if (typeOfLocation == "Lodging") {
				iconURL = typeIconURL[0];
			} else if (typeOfLocation == "BBQ") {
				iconURL = typeIconURL[1];
				iconSize = 40;
			} else {
				iconURL = typeIconURL[2];
			};

			// Create a Leaflet icon object
			var result = L.icon({
				iconUrl: iconURL,
				iconSize: iconSize,
				popupAnchor: [0, -15] // Center of your icon is [0,0]
			});

			// Function returns a properly formatted Leaf icon object to place on your map
			return result;

		};
	</script>

</body>

</html>
